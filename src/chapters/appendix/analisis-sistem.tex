\chapter{Analisis Sistem}

\section{Kebutuhan Fungsional dan Non-Fungsional Sistem Tiket}

\subsection{Kebutuhan Fungsional Sistem Tiket}

Berikut adalah kebutuhan fungsional yang menjadi cakupan pada tugas akhir ini:

\begin{enumerate}
    \item Pengguna dapat membaca daftar acara yang tersedia.
    \item Pengguna dapat membaca daftar ketersediaan tiket untuk suatu acara.
    \item Pengguna dapat memesan tiket.
    \item Sistem dapat menerima pembelian tiket lebih dari satu dalam satu pembelian untuk acara yang sama. Meskipun begitu, satu kali pembelian maksimal hanya dapat membeli empat tiket.
    \item Sistem dapat menjual tiket berdasarkan tempat duduk atau berdasarkan area.
    \item Sistem dapat menangani penjualan tiket untuk lebih dari satu acara dalam satu waktu.
    \item Pengguna dapat membatalkan pembelian tiket apabila pengguna belum melakukan pembayaran.
    \item Apabila pengguna tidak menyelesaikan pembayaran sampai batas waktu tertentu, pembelian akan dibatalkan dan tiket akan kembali tersedia untuk dibeli oleh pengguna lain.
\end{enumerate}

Pemesanan tiket dibagi menjadi dua tahap, yaitu fase \textit{hold seating} dan fase pembayaran. Fase \textit{hold seating} akan me-\textit{reserve} tiket sampai batas waktu tertentu hingga pengguna menyelesaikan fase pembayaran. Saat pembayaran berhasil, pembelian tiket baru akan dianggap sukses. Daftar acara dan ketersediaan awal tiket merupakan data yang diisi dari awal, sehingga fitur manajemen acara dan tiket tidak diimplementasikan.

\subsection{Kebutuhan Non-Fungsional Sistem Tiket}

Berikut adalah kebutuhan non-fungsional yang menjadi cakupan pada tugas akhir ini:

\begin{enumerate}
    \item Sistem harus memastikan tidak terjadi \textit{double booking} pada saat pemesanan tiket fase \textit{hold seating}.
    \item \textit{Endpoint} yang melayani pembacaan ketersediaan tiket harus selalu mengembalikan hasil terbaru (\textit{data freshness}).
\end{enumerate}

\section{Komponen Sistem Tiket}

Berdasarkan studi yang sudah dibahas sebelumnya dan berdasarkan fokus yang ingin dibahas pada penelitian ini, berikut adalah komponen sistem yang menjadi bahasan dari penelitian ini:

\begin{enumerate}
    \item Layanan \textit{backend} utama yang memproses setiap permintaan yang berkaitan dengan pemesanan tiket. Layanan ini dapat dipecah menjadi beberapa layanan bergantung pada desain setiap arsitektur solusi.
    \item Layanan otentikasi. Layanan ini menggunakan solusi otentikasi yang sudah \textit{established}, seperti Ory Kratos. Otentikasi akan menggunakan JWT token sehingga validasi pengguna tidak harus bergantung pada layanan ini.
    \item Layanan gerbang pembayaran. Implementasi dari layanan ini akan berupa \textit{mock service}. Layanan ini akan disimulasikan sebagai gerbang pembayaran eksternal.
    \item Terdapat satu basis data utama sebagai sumber kebenaran utama. Basis data relasional yang akan digunakan adalah PostgreSQL.
\end{enumerate}

Komponen sistem yang lebih spesifik akan bergantung pada desain setiap arsitektur solusi.